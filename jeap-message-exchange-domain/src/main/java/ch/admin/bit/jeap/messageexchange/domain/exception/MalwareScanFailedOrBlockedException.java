package ch.admin.bit.jeap.messageexchange.domain.exception;

import ch.admin.bit.jeap.messageexchange.domain.malwarescan.ScanStatus;

import java.util.UUID;

public class MalwareScanFailedOrBlockedException extends IllegalStateException {

    private static final String NOT_DELIVERING_BECAUSE_OF_STATUS = "Message %s cannot be delivered because its malware scan status is %s";

    private MalwareScanFailedOrBlockedException(String message) {
        super(message);
    }

    public static MalwareScanFailedOrBlockedException malwareScanFailedOrBlockedException(UUID messageId, ScanStatus scanStatus) {
        return new MalwareScanFailedOrBlockedException(NOT_DELIVERING_BECAUSE_OF_STATUS.formatted(messageId, scanStatus));
    }
}
